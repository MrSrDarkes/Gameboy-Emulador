 <!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <meta name="theme-color" content="#1a1a1a">
    <title>Emulador GBA / Nintendo DS</title>
    <link rel="stylesheet" href="gameboy-emulator/styles.css">
</head>
<body>
    <!-- Contenedor principal -->
    <div class="emulator-container">
        <!-- GBA Device con imagen de fondo -->
        <div class="gba-device">
            <!-- Canvas para el juego -->
            <canvas id="gameCanvas" class="game-canvas" width="240" height="160"></canvas>

            <!-- D-Pad (izquierda) -->
            <div class="d-pad">
                <button class="d-pad-btn d-pad-up" data-key="arrowup" title="Arriba"></button>
                <button class="d-pad-btn d-pad-down" data-key="arrowdown" title="Abajo"></button>
                <button class="d-pad-btn d-pad-left" data-key="arrowleft" title="Izquierda"></button>
                <button class="d-pad-btn d-pad-right" data-key="arrowright" title="Derecha"></button>
            </div>

            <!-- Botones A, B, L, R (derecha/arriba) -->
            <div class="action-buttons">
                <button class="btn btn-a" data-key="z" title="Bot√≥n A">A</button>
                <button class="btn btn-b" data-key="x" title="Bot√≥n B">B</button>
            </div>


            <!-- Start y Select (abajo centro) -->
            <div class="control-buttons">
                <button class="btn btn-select" data-key="backspace" title="Select">SELECT</button>
                <button class="btn btn-start" data-key="enter" title="Start">START</button>
            </div>

            <!-- LED de encendido (estado de emulaci√≥n) -->
            <div id="powerLed" class="power-led off" title="Power"></div>

            <!-- Bot√≥n Power (arriba derecha) -->
            <button class="btn btn-power" id="powerBtn" title="Encendido/Apagado">‚óè</button>

            <!-- Control de volumen (integrado) -->
            <div class="volume-control">
                <button class="volume-mute" id="muteBtn" title="Silenciar">üîä</button>
                <input type="range" class="volume-slider" id="volumeSlider" min="0" max="100" value="70">
            </div>

        </div>

        <!-- Panel de control simplificado (solo carga de ROM y controles b√°sicos) -->
        <div class="control-panel">
            <div class="panel-left">
                <input type="file" id="romInput" accept=".gba,.nds" style="display:none;">
                <button id="loadRomBtn" class="btn-primary">üì• Cargar ROM</button>
                <span id="gameTitle" class="game-title">Sin juego</span>
            </div>

            <div class="panel-right">
                <button id="pauseBtn" class="btn-secondary" disabled>‚è∏ Pausa</button>
                <button id="resumeBtn" class="btn-secondary" disabled>‚ñ∂ Reanudar</button>
                <button id="fullscreenBtn" class="btn-secondary">‚õ∂ Fullscreen</button>
            </div>
        </div>

        <!-- Ajustes: shaders y optimizaci√≥n -->
        <div class="settings-panel">
            <h3 class="saved-roms-title">‚öôÔ∏è Ajustes</h3>
            <div class="settings-row">
                <label for="shaderSelect" class="settings-label">Shader (efecto de pantalla)</label>
                <select id="shaderSelect" class="settings-select">
                    <option value="disabled">Ninguno</option>
                    <option value="crt-easymode.glslp">CRT f√°cil</option>
                    <option value="crt-lottes.glslp">CRT Lottes</option>
                    <option value="crt-geom.glslp">CRT geom</option>
                    <option value="zfast-crt.glslp">ZFast CRT</option>
                    <option value="2xScaleHQ.glslp">2x ScaleHQ</option>
                    <option value="sabr">SABR</option>
                </select>
            </div>
            <div class="settings-row">
                <label class="settings-check-label">
                    <input type="checkbox" id="optThreads" checked>
                    <span>Usar hilos (mejor rendimiento en multicore)</span>
                </label>
            </div>
        </div>

        <!-- ROMs incluidos (siempre disponibles desde el servidor) -->
        <div class="saved-roms-panel included-roms-panel">
            <h3 class="saved-roms-title">üéÆ Juegos disponibles</h3>
            <div id="includedRomsList" class="saved-roms-list"></div>
        </div>

        <!-- ROMs guardados (IndexedDB) -->
        <div class="saved-roms-panel">
            <h3 class="saved-roms-title">üìÅ Tus ROMs guardados</h3>
            <div id="savedRomsList" class="saved-roms-list"></div>
        </div>
    </div>

    <!-- Scripts (path para EmulatorJS cuando index est√° en la ra√≠z) -->
    <script>window.EJS_pathtodata = 'gameboy-emulator/data/';</script>
    <script src="gameboy-emulator/emulator.js"></script>
    
    <!-- EmulatorJS Loader (carga autom√°ticamente todos los componentes) -->
    <!-- Nota: Se carga din√°micamente cuando se carga una ROM -->
    <!-- window.EJS_pathtodata apunta a: ./data/ -->
</body>
</html>
